version: '3'

services:
    api:
        build: .
        environment:
            PORT: 8000
            MONGO_HOST: "raserver_mongo_1"
            MONGO_PORT: 27017
            MONGO_USER: "jmanosu"
            MONGO_PASSWORD: "password1"
            MONGO_DB_NAME: "RADatabase"
        ports:
            - 8000:8000
        volumes:
            - .:/code
    mongo:
        image: "mongo:latest"
        environment:
            MONGO_INITDB_ROOT_USERNAME: "root"
            MONGO_INITDB_ROOT_PASSWORD: "password1"
            MONGO_INITDB_DATABASE: "RADatabase"
        volumes:
            - ./mongodbInit/init.js:/docker-entrypoint-initdb.d/init.js:ro
            - mongo:/data/db
volumes:
    mongo: